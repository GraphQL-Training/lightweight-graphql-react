<!DOCTYPE html>
<html>
  <head>
    <title>Lightweight GraphQL | Introduction to GraphQL without window.fetch() | Benjie Gillam</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="styles.css" type='text/css' />
  </head>
  <body>
    <script type="application/javascript" src="remark-latest.min.js"></script>
    <script type="application/javascript">
      async function main() {
        try {
          const result = await fetch('slides.md');
          const slideshow = remark.create({
            source: await result.text(),
            slideNumberFormat: function (current, total) { return null },
            ratio: '4:3',
            highlightLines: true,
            highlightSpans: false // We need ES6 backticks
          });
          if (window.___browserSync___) {
            ___browserSync___.socket.on('reload:slides.md', async () => {
              const result = await fetch('slides.md');
              slideshow.loadFromString(await result.text());
            })
          }
        } catch (e) {
          document.body.innerHTML = '<h1>An error ocurred!<' + '/h1>';
        }
      }
      window.syntaxWasValid = true;

      main();

    </script>
    <script type="application/javascript">
      if (!window.syntaxWasValid) {
        document.write('<h1>A browser that supports async/await is required to view this presentation</' + 'h1>');
      }
    </script>
  </body>
</html>
